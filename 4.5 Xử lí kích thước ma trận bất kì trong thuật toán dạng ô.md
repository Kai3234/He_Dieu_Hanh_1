Phép nhân ma trận dạng ô kernel trình bày trong 4.4 chỉ có thể xử lí ma trận có kích thước là bội số của chiều rộng ô vuông
# Mục tiêu
Để xử lí ma trận có kích thước bất kì trong phép nhân ma trận dạng ô
- Kiểm tra điều kiện biên khi tải các ô
- Điều chỉnh nội dung của ô để đơn giản hóa phép tính lõi
- Mở rộng kĩ thuật để xử lí ma trận hình chữ nhật

# Vấn đề của với ma trận có kích thước không chia hết chiều rộng ô 
## Ví dụ 3 x 3

### Pha 1 tải cho khối (0, 0)
![[Screenshot 2025-03-04 113614.png]]

Gạch mặt 0 hoàn toàn nằm trong phạm vi hợp lệ của cả M và N

Khi chuyển sang pha 1, chúng ta thấy rằng để [[tải ô]] M, chúng ta sẽ cố gắng tải hai phần tử M không hợp lệ trong ví dụ này. Vì vậy, luồng 01 và luồng 11 trong trường hợp này cần được xử lý đặc biệt khi tải gạch M.

Mặc dù về mặt khái niệm, hai luồng này đang tải các phần tử M không hợp lệ hoặc không tồn tại, nhưng trên thực tế, do bố cục hàng chính, các luồng này sẽ tải không chính xác các phần tử tiếp theo, là M10 và M20 trong trường hợp này, vào vị trí bộ nhớ chia sẻ của chúng.
## 2 trường hợp chính trong ví dụ trò chơi
# Một giải pháp "đơn giản"

# Ví dụ và triển khai

# Tóm tắt các quan sát

# Mở rộng cho ma trận hình chữ nhật

# Kết luận